<div class="container">
  <form
    class="card"
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
  >
    <div class="card-content">
      <span class="card-title">Создать аккаунт</span>
      <div class="input-field">
        <input
          formControlName="email"
          id="email"
          type="email"
          [ngClass]="{'invalid': form.get('email').invalid && form.get('email').touched}"
        >
        <label for="email">Email:</label>
        <span
          class="helper-text red-text"
          *ngIf="form.get('email').invalid && form.get('email').touched"
        >
        <span *ngIf="form.get('email').errors['required']">Email не должен быть пустым</span>
        <span *ngIf="form.get('email').errors['email']">Введите коректный email</span>
      </span>
      </div>
      <div class="input-field">
        <input
          formControlName="name"
          id="name"
          type="text"
          [ngClass]="{'invalid': form.get('name').invalid && form.get('name').touched}"
        >
        <label for="name">Имя:</label>
        <span
          class="helper-text red-text"
          *ngIf="form.get('name').invalid && form.get('name').touched"
        >
        <span *ngIf="form.get('name').errors['required']">Имя не должно быть пустым</span>
         <span *ngIf="form.get('name').errors['minlength']">Минимальная длина имени 3 символа.</span>
      </span>
      </div>

      <div class="input-field">
        <input
          formControlName="phone"
          id="phone"
          type="tel"
          [ngClass]="{'invalid': form.get('phone').invalid && form.get('phone').touched}"
        >
        <label for="phone">Номер телефона:</label>
        <span
          class="helper-text red-text"
          *ngIf="form.get('phone').invalid && form.get('phone').touched"
        >
        <span *ngIf="form.get('phone').errors['required']">Номер телефону не должен быть пустым. </span>
        <span *ngIf="form.get('phone').invalid"
        >Введите только цифры в количестве 10 символов. Пример: 0661111111.</span>
       </span>
      </div>

      <div class="input-field">
        <input
          formControlName="password"
          id="password"
          type="password"
          [ngClass]="{'invalid': form.get('password').invalid && form.get('password').touched}"
        >
        <label for="password">Пароль:</label>
        <span
          class="helper-text red-text"
          *ngIf="form.get('password').invalid && form.get('password').touched"
        >
        <span *ngIf="form.get('password').errors['required']">Пароль не должен быть пустым</span>
        <span *ngIf="form.get('password').errors['minlength']&& form.get('password').errors['minlength']['requiredLength'] ">
          Пароль должен быть не меньше {{form.get('password').errors['minlength']['requiredLength']}} символов.
          Сейчас {{form.get('password').errors['minlength']['actualLength']}}
        </span>
      </span>
      </div>
      <div class="input-field">
        <input
          formControlName="confirmPassword"
          id="confirmPassword"
          type="password"
          [ngClass]="{'invalid': form.get('password').invalid && form.get('password').touched}"
        >
        <label for="confirmPassword">Повторите пароль:</label>
        <span
          class="helper-text red-text"
          *ngIf="form.get('confirmPassword').invalid && form.get('password').touched"
        >
        <span *ngIf="form.get('confirmPassword').errors['required']">Пароль не должен быть пустым</span>
        <span *ngIf="form.get('confirmPassword').errors['mustMatch']">Пароли должны совпадать </span>
      </span>
      </div>
    </div>
    <div class="card-action">
      <button
        type="submit"
        class="modal-action btn waves-effect"
        [disabled]="form.invalid || form.disabled"
      >
        Создать
      </button>
    </div>
    <div class="link">
      Уже есть профиль? <a routerLink="/login">Войти в аккаунт</a>
    </div>

  </form>
</div>


